# 小程序测试清单

## ✅ 基础功能测试

### 1. 登录功能
- [ ] 打开小程序，显示登录页面
- [ ] 输入用户名（例如：`测试用户`）
- [ ] 点击"登录/注册"按钮
- [ ] 显示"登录成功"提示
- [ ] 自动跳转到活动列表页面

### 2. 活动列表
- [ ] 显示当前用户参与的所有活动
- [ ] 每个活动显示：活动名称、类型、成员信息
- [ ] 显示"+ 创建活动"按钮
- [ ] 显示"退出登录"按钮

### 3. 创建活动
- [ ] 点击"+ 创建活动"按钮
- [ ] 填写活动名称（例如：`周末聚餐`）
- [ ] 填写活动类型（例如：`聚餐`）
- [ ] 填写参与成员（每行一个，例如：`张三`、`李四`、`王五`）
- [ ] 点击"创建"按钮
- [ ] 显示"创建成功"提示
- [ ] 返回活动列表，显示新创建的活动

### 4. 编辑活动
- [ ] 在活动列表中，点击某个活动的"编辑"按钮（只有创建者能看到）
- [ ] 修改活动信息
- [ ] 点击"更新"按钮
- [ ] 显示"更新成功"提示
- [ ] 返回活动列表，活动信息已更新

### 5. 删除活动
- [ ] 在活动列表中，点击某个活动的"删除"按钮（只有创建者能看到）
- [ ] 确认删除对话框
- [ ] 点击"确定"
- [ ] 显示"删除成功"提示
- [ ] 活动从列表中消失

### 6. 进入活动详情
- [ ] 点击活动列表中的某个活动
- [ ] 进入活动详情页面
- [ ] 显示活动名称和成员信息
- [ ] 显示"账单"和"结算"两个Tab

---

## ✅ 账单功能测试

### 7. 添加账单（新建）
- [ ] 在活动详情页的"账单"Tab中，点击"+ 添加账单"按钮
- [ ] 进入账单编辑页面
- [ ] 填写金额（例如：`100`）
- [ ] 填写账单名称（例如：`晚餐`）
- [ ] 选择日期和时间
- [ ] 选择付款人
- [ ] 为每个成员选择权重（0-3）
- [ ] 填写备注（可选）
- [ ] 点击"保存账单"按钮
- [ ] 显示"保存成功"提示
- [ ] 返回活动详情页，显示新添加的账单

### 8. 账单列表显示
- [ ] 账单列表按日期排序（最近到最远）
- [ ] 每个账单显示：
  - [ ] 三个圆圈（显示参与成员的姓氏，付款人用蓝色，其他用棕色）
  - [ ] 总权重数字
  - [ ] 账单名称（11px字体）
  - [ ] 日期（yyyy.mm.dd格式，10px灰色字体）
  - [ ] 金额（11px字体）
  - [ ] 删除按钮（仅创建者可见）

### 9. 编辑账单（创建者）
- [ ] 在账单列表中，点击某个账单（创建者点击）
- [ ] 进入账单编辑页面
- [ ] 修改账单信息
- [ ] 点击"更新账单"按钮
- [ ] 显示"更新成功"提示
- [ ] 返回活动详情页，账单信息已更新

### 10. 查看账单（非创建者）
- [ ] 使用另一个用户登录（非创建者）
- [ ] 进入同一个活动
- [ ] 点击某个账单
- [ ] 进入账单详情页面（只读模式）
- [ ] 所有输入框都是禁用状态
- [ ] 不显示"保存账单"或"更新账单"按钮
- [ ] 标题显示"账单详情"

### 11. 删除账单
- [ ] 在账单列表中，点击某个账单的"删除"按钮（仅创建者可见）
- [ ] 确认删除对话框
- [ ] 点击"确定"
- [ ] 显示"删除成功"提示
- [ ] 账单从列表中消失

### 12. 账单名称长度限制
- [ ] 在添加/编辑账单时，输入超过7个汉字
- [ ] 显示提示对话框："账单名称不能超过7个汉字，请修改后重试。"
- [ ] 对话框的"确定"按钮获得焦点
- [ ] 点击"确定"后，可以继续编辑

### 13. 继承权重
- [ ] 在活动中添加第一个账单，设置各成员的权重
- [ ] 保存账单
- [ ] 添加第二个账单
- [ ] 检查各成员的权重是否与第一个账单相同

---

## ✅ 结算功能测试

### 14. 结算页面显示
- [ ] 在活动详情页，点击"结算"Tab
- [ ] 显示总支出金额
- [ ] 显示日期范围（从最早账单日期到当前日期）
- [ ] 显示账单数量
- [ ] 显示按权重人均金额

### 15. 成员余额列表
- [ ] 显示所有成员的余额信息
- [ ] 每个成员显示：
  - [ ] 成员名称
  - [ ] 实付金额
  - [ ] 应付金额
  - [ ] 余额（实付 - 应付）
- [ ] 余额为负数时显示红色，正数显示绿色

### 16. 建议下一次买单人员
- [ ] 在结算页面底部，显示"建议下一次买单人员"
- [ ] 显示余额最小的成员（欠款最多的人）
- [ ] 显示该成员的应付和实付金额
- [ ] 成员名称显示为蓝色和粗体

---

## ✅ 权限测试

### 17. 创建者权限
- [ ] 创建者可以编辑活动
- [ ] 创建者可以删除活动
- [ ] 创建者可以编辑自己创建的账单
- [ ] 创建者可以删除自己创建的账单

### 18. 非创建者权限
- [ ] 非创建者不能编辑活动（编辑按钮变灰或隐藏）
- [ ] 非创建者不能删除活动（删除按钮变灰或隐藏）
- [ ] 非创建者可以查看账单详情（只读模式）
- [ ] 非创建者不能编辑账单
- [ ] 非创建者不能删除账单

---

## ✅ 数据同步测试

### 19. 多设备同步
- [ ] 在设备A上创建一个活动
- [ ] 在设备B上登录同一用户
- [ ] 检查设备B上是否能看到新创建的活动
- [ ] 在设备A上添加一个账单
- [ ] 在设备B上刷新，检查是否能看到新添加的账单

### 20. 数据一致性
- [ ] 创建活动后，检查数据库中是否正确保存
- [ ] 添加账单后，检查 `splitDetail` 是否正确计算
- [ ] 检查权重为0的成员，金额是否为0
- [ ] 检查余额计算是否正确（实付 - 应付）

---

## ✅ UI/UX 测试

### 21. 页面布局
- [ ] 所有页面布局正常，没有元素重叠
- [ ] 文字大小合适，易于阅读
- [ ] 按钮大小合适，易于点击
- [ ] 颜色搭配合理

### 22. 响应式
- [ ] 在不同尺寸的手机上测试
- [ ] 横屏和竖屏切换
- [ ] 检查是否有元素被遮挡

### 23. 加载状态
- [ ] 数据加载时显示"加载中..."提示
- [ ] 操作成功时显示成功提示
- [ ] 操作失败时显示错误提示

---

## ✅ 异常情况测试

### 24. 网络异常
- [ ] 断开网络连接
- [ ] 尝试加载数据
- [ ] 检查是否显示适当的错误提示

### 25. 数据验证
- [ ] 尝试创建活动时不填写名称
- [ ] 尝试添加账单时不填写金额
- [ ] 尝试添加账单时金额为0或负数
- [ ] 检查是否显示适当的验证提示

### 26. 边界情况
- [ ] 活动名称为空
- [ ] 账单名称为空（应该使用"未命名"）
- [ ] 所有成员权重都为0
- [ ] 没有账单时的结算页面显示

---

## 📝 测试结果记录

### 测试日期：___________

### 测试人员：___________

### 发现的问题：

1. 
2. 
3. 

### 建议改进：

1. 
2. 
3. 

---

## 🎯 下一步

测试完成后，如果发现问题：
1. 记录问题详情
2. 截图或录屏（如果可能）
3. 告诉我具体的问题，我会帮你修复

如果所有功能都正常：
1. 可以开始真机测试
2. 可以准备发布上线



